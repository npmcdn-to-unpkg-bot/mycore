<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>MyCoRe SWORD component</title>
    <style type="text/css">
        body {
            font-family: sans;
            font-size: 10pt;
        }
		
		.important {
			border: 1px solid blue;
			padding: 5px;
			margin: 5px 0px;
			background-color: #DADEFF;
		}
    </style>
</head>
<body>
<div id="header">
    <h1>MyCoRe SWORD interface</h1>
</div>
<div id="content">
    <h2>Introduction</h2>
    <div>
        MyCoRe supports the SWORD AtomPub Profile described by the developer team 
        on <a href="http://www.swordapp.org/docs/sword-profile-1.3.html">swordapp.org</a>.
        At the moment of creation of this document, the latest version of SWORD is 1.3.
        The profile documentation is rather complicated so have a look at the following
        documents:
        <ul>
            <li><a href="http://www.slideshare.net/adrianstevenson/sword-the-story-so-far">SWORD: The Story So Far</a> - Slides</li>
            <li><a href="http://swordapp.org/the-sword-course/">The SWORD Course</a> - Videos</li>
        </ul>
        You should get brief overview to the profile by reading the text and viewing the videos. 
		After this you should be able to
        understand the ways you can implement the service into your own application.
    </div>
    <h2>Implementation</h2>
    <div>
        A good starting point for using the classes of MyCoRe SWORD are the two
        servlets with which you can ask for a service document or perform a deposit:
        <ul>
            <li><code>MCRSWORDServiceDocumentServlet</code></li>
            <li><code>MCRSWORDDepositServlet</code></li>
        </ul>
        At the start a client has to know which capabilities are provided by the
        server. The service document servlet can be used for this issue.  
		After the client has discovered the details it is able to do a deposit to the
        deposit servlet. If you wish to provide a complete new implementation you
        can have a look at sword commons implementation of <code>org.purl.sword.ServiceDocumentServlet</code>
		and <code>org.purl.sword.DepositServlet</code>.
        <br/>
        The service document is only capable of answering get requests, the deposit
        servlet is able of handling post request.
    </div>
	<div class="important">Note that deposit requests which upload a file, don't 
	have to be multipart requests. The file is going to be read directly from the request body.</div>
    <h3>Authentificaton</h3>
    <div>
        For each request there has to be authentification data if you use the
        two provided servlets. The SWORD profile defines that HTTP Basic Authentification
        should be available in conjunction with a TLS connection.
        <br/>
        There is already a class which is able to do basic auth for you. The <code>MCRSWORDAuthenticator</code>
        reads the configuration file <code>sword_users.properties</code>
        from classpath. This file must contain
        usernames as keys and passwords as md5 hash sum as values. Inside mycores
        settings there are two properties given, with which you can configure
        authentification.
        <dl>
            <dt><code>MCR.SWORD.auth.method</code></dt>
            <dd>Set this to <code>None</code> if you do not want to use 
                authentification. When set to <code>Basic</code> you only have to provide
                usernames and md5 hashed passwords inside the configuration file</dd>
            <dt><code>MCR.SWORD.auth.class</code></dt>
            <dd>If you want to use your own authentification method, set this
                property to point to a class with full class path.</dd>
        </dl>
    </div>
    <h3>MCRSWORDServer</h3>
    <div>
        Both mentioned servlets use an instance of <code>MCRSWORDServer</code>, which
        does the work for creating service documents and performing deposits. If you want 
        to use your own depositing system you can set <code>MCR.SWORD.server.class</code>
        inside the configuration. The provided class must implement the interface<code>org.purl.server.SWORDServer</code>.
        <br/>
        The default implementation is able of accepting zip files with a package descriptor 
        of <code>DSpace METS SIP Profile 1.0</code>. 
    </div>
	<div class="important">Have a look at the apidoc to get more information about the implementation.</div>
    <h4>MCRSWORDIngester</h4>
	<div>
		If you want to use the default implementation of the SWORD server you have to provide
		a implementation class which implements the interface <code>org.mycore.sword.MCRSWORDIngester</code>. 
		An instance of this class should do the concrete persisting of a SWORD request. 
		The object model you use is simply not know by this implementation so you 
		have to provide persisting by yourself.
        </div>
</div>
</body>
</html>
