<?xml version="1.0" encoding="ISO-8859-1"?>

<!-- Editor form to change permissions on a document or legalEntity -->

<!-- To edit document permissions, request permission-editor4admins.xml?XSL.documentID.SESSION=4711&XSL.targetType.SESSION=D -->
<!-- To edit legalEntity permissions, request permission-editor4admins.xml?XSL.legalEntityID.SESSION=1234&XSL.targetType.SESSION=L -->

<webpage lastModified="$Date$" id="permission-editor">
  <title xml:lang="de">Zugriffsrechte ändern</title>
  <title xml:lang="en">Change access permissions</title>

  <section>
    <editor id="permission-editor-form">
    
      <cancel url="servlets/DocumentServlet?id={XSL.documentID.SESSION}" />
      <cancel url="servlets/LegalEntityServlet?id={XSL.legalEntityID.SESSION}" />
      
      <source uri="permissions:D:{XSL.documentID.SESSION}" />
      <source uri="permissions:L:{XSL.legalEntityID.SESSION}" />
      
      <target type="servlet" name="PermissionServlet" method="post" format="xml" /> 

      <include uri="webapp:authoring/edit-includes.xml" ref="validation.message" />

      <components root="root" var="/permissions">
        <panel id="root" lines="on">

          <include uri="webapp:authorization/permission-editor.xml" ref="common" />          

          <cell row="3" col="1" anchor="WEST" style="padding-top: 2ex;">
            <text label="Zugriffsrechte basierend auf Gruppenzugehörigkeit des Nutzers:" />
          </cell>
          <cell row="4" col="1" anchor="WEST" var="groups/group"> 
            <repeater min="1" max="50" pos="hidden">
              <panel lines="off">
                <cell row="1" col="1">
                  <text label="Darf " />
                </cell>
                <cell row="1" col="2" var="@action">
                  <list type="dropdown" default="-">
                    <item value="-" label="-" /> 
                    <item value="R" label="lesend" /> 
                    <item value="W" label="schreibend" /> 
                  </list>
                </cell>
                <cell row="1" col="3">
                  <text label=" zugreifen: " />
                  <output var="@name" />
                  <text label=" [" />
                  <output var="@label" />
                  <text label=" ]" />
                </cell>
                <hidden var="@name" />
                <hidden var="@label" />
              </panel> 
            </repeater>
          </cell>

        </panel>

      </components>
      
    </editor>
  </section>
</webpage>
