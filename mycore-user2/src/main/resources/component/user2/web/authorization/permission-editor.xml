<?xml version="1.0" encoding="ISO-8859-1"?>

<!-- Editor form to change permissions on a document or legalEntity -->

<includes>
  <include id="common">          

    <hidden var="@type" />
    <hidden var="@id" />
     
    <cell row="1" col="1" anchor="WEST">
      <text label="Lesenden Zugriff auf Rechner aus diesen Netzwerken beschränken:" />
    </cell>
    <cell row="2" col="1" anchor="WEST" var="networks/network"> 
      <list type="checkbox" cols="1">
        <include cacheable="true" uri="xslStyle:networks2items:resource:networks.xml" />
      </list>
    </cell>
   
    <cell row="5" col="1" anchor="WEST" style="padding-top: 2ex;">
      <text label="Rechte für einzelne Nutzer hinzufügen:" />
    </cell>
    <cell row="6" col="1" anchor="WEST" var="permission">
      <repeater min="1" max="10" lines="off">
        <panel lines="off">
          <hidden var="user" descendants="true" />
          <cell row="1" col="1">
            <text label="Darf " />
          </cell>
          <cell row="1" col="2" var="@action">
            <list type="dropdown" default="-">
              <item value="-" label="-" /> 
              <item value="R" label="lesend" /> 
              <item value="W" label="schreibend" /> 
            </list>
          </cell>
          <cell row="1" col="3">
            <text label=" zugreifen: " />
          </cell>
          <cell row="1" col="4" anchor="WEST" var="user">
            <subselect i18n="button.select" id="owner.select" type="webpage" href="servlets/UserServlet" style="width: 100px;" />
          </cell>
          <cell row="1" col="5" anchor="WEST" var="user">
            <output var="@name" />
            <text label=" [" />
            <output var="realm" default="bitte wählen" />
            <text label="]" />
          </cell>
        </panel>
      </repeater>
    </cell>
    
    <cell row="8" col="1" anchor="WEST" style="padding-top: 2ex;" var="accessKeys">
      <panel>
        <cell row="1" col="1">
          <text label="Zugangsschlüssel für lesenden Zugriff:"/>
        </cell>
        <cell row="1" col="2" var="readKey" >
          <textfield id="tf.accesskey.read" width="32" maxlength="64">
            <condition id="cond.accesskey.read.syntax" maxLength="64" regexp="[\S]*" >
              <label xml:lang="de">Bitte maximal 64 Zeichen, keine Leerzeichen eingeben!</label>
              <label xml:lang="en">Please, enter up to 64 characters, no blanks!</label>
            </condition>
          </textfield>
        </cell>
        <cell row="1" col="3">
          <helpPopup id="help.accesskey.read" width="600px" height="300px">
            <label>
              <ul>
                <li>Benutzer können sich <strong>mit ihrer persönlichen Uni-Kennung</strong> bei DuEPublico anmelden.</li>
                <li>Um Zugang zu einem Dokument zu erhalten, müssen sie nur <strong>beim ersten Zugriff diesen Zugangsschlüssel</strong> kennen und eingeben.</li>
                <li>Dies ist nur einmal pro Dokument erforderlich, danach genügt die Anmeldung mit der eigenen Benutzerkennung.</li>
              </ul>
            </label>
          </helpPopup>
        </cell>
        <cell row="2" col="1">
          <text label="Zugangsschlüssel für schreibenden Zugriff:"/>
        </cell>
        <cell row="2" col="2" var="writeKey" >
          <textfield id="tf.accesskey.write" width="32" maxlength="64">
            <condition id="cond.accesskey.write.syntax" maxLength="64" regexp="[\S]*" >
              <label xml:lang="de">Bitte maximal 64 Zeichen, keine Leerzeichen eingeben!</label>
              <label xml:lang="en">Please, enter up to 64 characters, no blanks!</label>
            </condition>
          </textfield>
        </cell>
        <cell row="2" col="3">
          <helpPopup id="help.accesskey.write" width="600px" height="400px">
            <label>
              <p>
                Wenn Sie weiteren Nutzern oder studentischen Hilfskräften Bearbeitungsrechte 
                an einem Dokument einräumen wollen,
                müssen Sie nur diesen Zugangsschlüssel weitergeben: 
              </p>
              <ul>
                <li>Mitarbeiter können sich <strong>mit ihrer persönlichen Uni-Kennung</strong> bei DuEPublico anmelden.</li>
                <li>Um Bearbeitungsrechte am Dokument zu erhalten, müssen sie nur <strong>beim ersten Zugriff diesen Zugangsschlüssel</strong> kennen und eingeben.</li>
                <li>Dies ist nur einmal pro Dokument erforderlich, danach genügt die Anmeldung mit der eigenen Benutzerkennung.</li>
              </ul>
            </label>
          </helpPopup>
          <text><label> (optional)</label></text>
        </cell>
        <condition id="cond.accesskeys.differ" field1="readKey" field2="writeKey" type="string" operator="!=" >
          <label xml:lang="de">Sie müssen unterschiedliche Zugangsschlüssel wählen!</label>
          <label xml:lang="en">The access keys you choose must be different from each other!</label>
        </condition>
        <condition id="cond.readkey.required" xsl="(string-length(writeKey) = 0) or (string-length(readKey) &gt; 0)" >
          <label xml:lang="de">Es ist immer auch ein Zugangsschlüssel für lesenden Zugriff erforderlich!</label>
          <label xml:lang="en">Access key for read access is required, if any access key is specified!</label>
        </condition>
      </panel>
    </cell>
    
    <cell row="9" col="1" anchor="EAST" style="padding-top: 2ex;">
      <cancelButton i18n="button.cancel" style="width: 100px;" />
      <text label=" "/>
      <submitButton i18n="button.save" style="width: 100px;" />
    </cell> 
    
     <cell row="10" col="1" anchor="WEST" style="padding-top: 2ex;">
      <text label="Die folgenden Nutzer haben bisher Schreibrechte (und implizit auch Leserechte):" />
    </cell>
    <cell row="11" col="1" anchor="WEST">
      <text>
        <label>
          <include cacheable="false" uri="xslStyle:permissions:permissions:users:write" />
        </label>
      </text>
    </cell> 
     <cell row="12" col="1" anchor="WEST" style="padding-top: 2ex;">
      <text label="Die folgenden Nutzer haben bisher Leserechte:" />
    </cell>
    <cell row="13" col="1" anchor="WEST">
      <text>
        <label>
          <include cacheable="false" uri="xslStyle:permissions:permissions:users:read" />
        </label>
      </text>
    </cell>
     
  </include>
</includes>