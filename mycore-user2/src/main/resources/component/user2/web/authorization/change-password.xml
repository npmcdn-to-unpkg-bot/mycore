<?xml version="1.0" encoding="ISO-8859-1"?>

<!-- Editor form to change password of existing login user. -->
<!-- Includes user-editor.xml -->

<webpage lastModified="$Date$" id="change-password">
  <title xml:lang="de">Passwort ändern</title>
  <title xml:lang="en">Change password</title>

  <section>
    <editor id="change-password-form">
    
      <source uri="user:{id}" />
      <source uri="user:current" />
      
      <cancel url="servlets/UserServlet?action=show&amp;id={id}" />
      <cancel url="servlets/UserServlet?action=show" />
      
      <target type="servlet" name="UserServlet" method="post" format="xml" />
       
      <include uri="webapp:authoring/edit-includes.xml" ref="validation.message" />
      
      <components root="root" var="/user">
        <panel id="root" lines="on">
          
          <cell row="1" col="1" anchor="EAST">
            <text label="ID:" />
          </cell>
          <cell row="1" col="2" colspan="2" anchor="WEST" var="@id">
            <output />
          </cell>
          <hidden var="@id" />

          <cell row="2" col="1" anchor="EAST">
            <text i18n="admin.userAccount" />            
          </cell>
          <cell row="2" col="2" anchor="WEST">
            <output var="@name" />
            <text label=" ["/>
            <output var="realm" />
            <text label="]"/>
          </cell>
          <hidden var="@name" />
          <hidden var="realm" />

          <cell row="3" col="1" anchor="EAST">
            <text i18n="admin.password" />            
          </cell>
          <cell row="3" col="2" anchor="WEST" var="password" ref="password" />
          <cell row="4" col="1" anchor="EAST">
            <text i18n="admin.passwordRepeat" />          
          </cell>
          <cell row="4" col="2" anchor="WEST" var="password2" ref="password" />

          <cell row="10" col="1" colspan="3" anchor="SOUTHEAST">
            <cancelButton i18n="button.cancel" style="width: 100px;" />
            <text label=" "/>
            <submitButton i18n="button.save" style="width: 100px;" />
          </cell>
          
          <condition id="cond.same.password" field1="password" field2="password2" type="string" operator="=" >
            <label xml:lang="de">Die beiden eingegebenen Passwörter stimmen nicht überein!</label>
            <label xml:lang="en">The passwords entered do not match, they must be the same!</label>
          </condition>
          
        </panel>
        
        <password id="password" width="10">
          <condition id="cond.password.required" required="true" >
            <label xml:lang="de">Sie müssen ein Passwort eingeben! </label>
            <label xml:lang="en">You must enter a password! </label>
          </condition>
          <condition id="cond.password.syntax" maxLength="16" regexp="[\S]*" >
            <label xml:lang="de">Bitte maximal 16 Zeichen, keine Leerzeichen eingeben!</label>
            <label xml:lang="en">Please, enter maximum 16 characters, no blanks!</label>
          </condition>
        </password>

      </components>
      
    </editor>
  </section>
</webpage>
