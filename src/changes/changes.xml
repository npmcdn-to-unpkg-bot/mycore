<document xmlns="http://maven.apache.org/changes/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/changes/1.0.0 http://maven.apache.org/xsd/changes-1.0.0.xsd">
  <properties>
    <title>MyCoRe Changes Report</title>
    <author email="thomas.scheffler(at)uni-jena.de">Thomas Scheffler</author>
  </properties>
  <!--
   @type:
    - add: neue Funktion hinzugekommen
    - remove: Funktion/Code entfernt
    - update: Funktion/Verhalten geÃ¤ndert
    - fix: Fehler behoben (mit @date und @due-to Attribut und evtl. <fixes issue="">)
   -->
  <body>
    <release version="2014.11" date="2014-11-00" description="Codenamed &apos;Mumme&apos;">
      <action dev="mcrtchef" type="remove">
        searchfields.xsd moved to mycore-legacy-search
      </action>
      <action dev="mcrtchef" type="add">
        mycore-iview2: added MCRPDFThumbnailServlet to generate thumbnails from PDF documents
      </action>
      <action dev="mcrtchef" type="add">
        added MCRQRCodeServlet to generate QR codes
      </action>
      <action dev="mcrfluet" type="add">
        Added property MCR.IFS2.SyncLastModifiedOnSVNCommit=true (default).
        If the property is true, the last modified date of the metadata file is the exactly same as from the SVN commit.
      </action>
      <action dev="mcrtchef" type="update">
        mycore-solr: added support for responses that are embedded in mycoreobject to response-utils.xsl
      </action>
      <action dev="mcrtchef" type="fix" date="2014-11-14">
        mycore-mods: fixed NPE in MCRMODSEmbargoFilter
      </action>
      <action dev="mcrshofm" type="add">
        added MCRCORSFilter to activate Cross Origin Resource Sharing when needed
      </action>
      <action dev="mcrtchef" type="update">
        MCRServlet: do not overwrite Access-Control-Allow-Origin header
      </action>
      <action dev="mcrmeich" type="fix" date="2014-11-10">
        MCRPersistentServlet: send 401 instead of 500 if permission denied
      </action>
      <action dev="mcrmeich" type="fix" date="2014-11-10">
        mycore-xeditor: send 404 if request comes in after session timed out
      </action>
      <action dev="mcrjkupf" type="fix" date="2014-11-05">
        added language support for text in MCRMetaHistoryDate 
        <fixes issue="728"/>
      </action>
      <action dev="mcrshofm" type="add">
        mycore-webcli: display server-side exceptions
      </action>
      <action dev="mcrmeich" type="update">
        refactored org.mycore.datamodel.classification2 package
      </action>
      <action dev="mcrmeich" type="fix" date="2014-11-03" due-to="Silvio Hermann">
        When using solr searcher in oai interface the ListSets verb my not be working 
        <fixes issue="727"/>
      </action>
      <action dev="mcrshofm" type="update">
        mycore-mets: synchronize ALTO files with mets.xml
      </action> 
      <action dev="mcrmeich" type="add">
        mycore-classeditor: added category filter (requires solr-classification)
      </action>
      <action dev="mcrtchef" type="fix" date="2014-10-27" due-to="Silvio Hermann">
        MCRMetaDerivateLink.isValid() always returns false
        <fixes issue="726"/>
      </action>
      <action dev="mcrfluet" type="add">
        mycore-mods: Added event handler to extract related items from MODS and store them as separate objects linked as parent and/or via xlink:href
      </action>
      <action dev="mcrjkupf" type="add">
        MCRLanguageDetector: added "detectLanguageByCharacter" to get language by script
      </action>
      <action dev="mcrtchef" type="add">
        MCRISO8601Date: added 'now' method to get current point in time
      </action>
      <action dev="mcrtchef" type="fix" date="2014-10-22">
        fixed many encoding bugs revealed by forbiddenapis
      </action>
      <action dev="mcrtchef" type="update">
       mycore-iview2: removed usage of MCRFile and MCRDirectory (replaced by niofs)
      </action>
      <action dev="mcrmeich" type="add">
       mycore-solr: added support to index classifications (used by classification editor)
      </action>
      <action dev="mcrmeich" type="update">
        classification: made many void methods return something useful
      </action>
      <action dev="mcrtchef" type="update">
        MCRServletContentHelper: if 'dl' parameter is present, set Content-Disposition to attachment
      </action>
      <action dev="mcrvuchi" type="add">
       mycore-xeditor: added support for variables in i18n in xed:output
      </action>
      <action dev="mcrtchef" type="update">
        MCRMetaDerivateLink uses niofs to access files
      </action>
      <action dev="mcrtchef" type="update">
       mycore-mods: normalize mods.name* and mods.author search fields to KFC unicode
      </action>
      <action dev="mcrtchef" type="add">
        added MCRXMLFunctions.normalizeUnicode() to normalize a String to KFC norm
      </action>
      <action dev="mcrtchef" type="update">
       MCR{Compress,Tar,Zip}Servlet use niofs to access files from derivate
      </action>
      <action dev="mcrmeich" type="add">
        mycore-solr: added support to use different SOLR cores
      </action>
      <action dev="mcrfluet" type="fix" date="2014-10-09">
       mycore-xeditor: replacing variables in xed:include/@uri did not work
      </action>
      <action dev="mcrmeich" type="fix" date="2014-10-08">
        mycore-user2: fixed invalid permission check in MCRRoleResolver
      </action>
      <action dev="mcrtchef" type="fix" date="2014-10-01" due-to="Robert Stephan">
        removed mycore-iview2 dependency from mycore-solr
        <fixes issue="708"/>
      </action>
      <action dev="mcrsteph" type="add">
       mycore-oai: added implementation for 'set handling' with SOLR
      </action>
      <action dev="mcrsteph" type="fix" date="2014-10-01">
       mycore-oai: made cursor attribute of resumtionToken compliant with standard 
      </action>
      <action dev="mcrsteph" type="add">
       mycore-oai: support 'sortby' in MCROAISolrSearcher
      </action>
      <action dev="mcrjkupf" type="fix" date="2014-10-01" due-to="Christian Windolf">
        The $CurrentGroup parameter of a default ACL is no more supported since USER2-System
        <fixes issue="712" />
      </action>
      <action dev="mcrmeich" type="fix" date="2014-10-01">
        mycore-wcms2: fix whitespaces occur between inline elements
      </action>
      <action dev="mcrtchef" type="fix" date="2014-10-03" due-to="Kathleen Neumann">
        can't see new menu entries created with wcms2
        <fixes issue="703" />
      </action>
      <action dev="mcrfluet" type="fix" date="2014-10-01" due-to="Jens Kupferschmidt">
        duplicate entry in mcrdata.xml when existing file gets updated
        <fixes issue="649" />
      </action>
      <action dev="mcrsteph" type="update">
        mycore-oai: use MCROAISolrSearcher by default
      </action>
      <action dev="mcrmeich" type="fix" date="2014-10-01">
        mycore-wcms2: fix NPE when moving XML file of new entry
      </action>
      <action dev="mcrmeich" type="add">
        added support for HTML entities in MyCoReWebPageProvider
      </action>
      <action dev="mcrjkupf" type="update">
        MCRMetaPersonName: added numeration, affix and title to comply with MARC21
      </action>
      <action dev="mcrjkupf" type="fix" date="2014-09-29" due-to="Ralph Hollenbach">
        mycore-swf: MCRSimpleWorkflowManager: NPE in getWorkflowFile()
        <fixes issue="721" />
      </action>
      <action dev="mcrfluet" type="add">
        mycore-xeditor: Implemented Jaxen extension functions for xedf:generate-id(...) and
        xedf:call-java('class','method',arguments...) to use within XPath expressions
      </action>
      <action dev="mcrkrebs" type="add">
        mycore-mods: added rdfA support
      </action>
      <action dev="mcrfluet" type="fix" date="2014-09-11">
        mycore-xeditor: Use relative XPaths instead of position in parent when swapping repeated
        elements.
      </action>
      <action dev="mcrfluet" type="fix" date="2014-09-11">
        mycore-xeditor: Repeater up/down buttons do not work when repeated element is direct child of root element
        <fixes issue="720" />
      </action>
      <action dev="mcrfluet" type="fix" date="2014-09-08" due-to="Jens Kupferschmidt">
        mycore-xeditor: added default rules to preserve /mycoreobject/structure/ and /mycoreobject/service/
        <fixes issue="718" />
      </action>
      <action dev="mcrkrebs" type="update">
        mycore-mods: added searchfield mods.embargo
      </action>
      <action dev="mcrmeich" type="fix" date="2014-09-02" due-to="Paul Borchert">
        mycore-oai: ListRecords response with the last element of the complete list must contain an empty resumptionToken.
        <fixes issue="717" />
      </action>
      <action dev="mcrfluet" type="fix" date="2014-08-26" due-to="Kathleen Neumann">
        mycore-mods: classification typeOfResource can't be valid: Use underscore in category IDs, they will be converted to spaces in MODS.
        <fixes issue="702" />
      </action>
      <action dev="mcrtchef" type="fix" date="2014-08-26" due-to="Kathleen Neumann">
        Docportal/MyCore 2014.06.0: can't map IPv6 to IPv4
        <fixes issue="716" />
      </action>
      <action dev="mcrfluet" type="fix" date="2014-08-26" due-to="Thomas Scheffler">
        Try to fix bug #677 (MCRDirectory.hasChildren() returns wrong result) by waiting for response from server after sending last bytes
        of file.
        <fixes issue="677" />
      </action>
      <action dev="mcrfluet" type="update">
        mycore-xeditor: improved calculation of cancel URL
      </action>
      <action dev="mcrsteph" type="update">
        add topological sorting of MyCoRe IDs to load and update from directory commands
      </action>
      <action dev="mcrvuchi" type="fix" date="2014-08-15">
        fixed sorting of startup classes in MCRStartupHandler
      </action>
      <action dev="mcrtchef" type="fix" date="2014-08-13">
        mycore-user2: do not throw ServletException if login fails in MCRServlet3LoginServlet
      </action>
      <action dev="mcrsherm" type="update">
        mycore-xeditor: avoid wide select boxes in item2options.xsl
      </action>
      <action dev="mcrtchef" type="update">
        MCRXMLFunctions.formatISODate uses servers locale timezone by default and not UTC
      </action>
      <action dev="mcrmeich" type="update">
        extract code from MCRContentServlet to MCRServletContentHelper to make it usable in Jersey.
      </action>
      <action dev="mcrtchef" type="update">
        MCRFileNodeServlet uses Path-API to access files and directories (small changes in XML for
        directories)
      </action>
      <action dev="mcrtchef" type="fix" date="2014-07-24">
        fixed a bug that new MCRFile could not be safed correctly in DB
      </action>
      <action dev="mcrtchef" type="add">
        added MCRPathContent to use java.nio.file.Path to serve content
      </action>
      <action dev="mcrtchef" type="add">
        added first "java.nio.file" implementation on IFS1 classes
      </action>
      <action dev="mcrsroeh" type="add">
        added MCRDFGLinkServlet to construct links for DFG-Viwer
      </action>
      <action dev="mcrshofm" type="add">
        mycore-iview2: added support to use mycore-viewer
      </action>
      <action dev="mcrvuchi" type="add">
        added "move" to MCREvent
      </action>
      <action dev="mcrmeich" type="update">
        mycore-classeditor: create a new db transaction for every category to update/delete
      </action>
      <action dev="mcrfluet" type="update">
        mycore-xeditor: Added anchors to return to after a repeater control button has done its work.
      </action>
      <action dev="mcrtchef" type="add">
        added MCRDecoratedIteratable to decorate an Iteratable :D
      </action>
      <action dev="mcrmeich" type="update">
        improved error handling on jersey text/html requests
      </action>
      <action dev="mcrtchef" type="fix" date="2014-06-25">
        if "href" attribute is not given in navigation.xml check acl rights against "dir"
        attribute
      </action>
      <action dev="mcrvuchi" type="fix" date="2014-06-25">
        fix class cast exception while using setname() on MCRDirectories
      </action>
      <action dev="mcrkrebs" type="remove">
        mycore-mods: removed code specific to BMEL project
      </action>
      <action dev="mcrmeich" type="update">
        mycore-iview2: use jersey resources for configuration
      </action>
      <action dev="mcrmeich" type="fix" date="2014-06-23">
        mycore-iview2: don't use minfied js version if debug mode is set to true
      </action>
      <action dev="mcrmibue" type="update">
        mycore-wcms2: file browser uses relative path to immages and shows only images in overview
      </action>
    </release>
    <release version="2014.06.0" date="2014-06-20" description="2014 LTS" />
  </body>
</document>
