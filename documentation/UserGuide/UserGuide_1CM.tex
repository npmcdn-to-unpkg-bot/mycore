%
%
\section{Hinweise zur Installation des IBM Content Manager 8.2}
%
%
\subsection{Der IBM Content Manager unter AIX}
An dieser Stelle soll eine Kurzbeschreibung der Installation des IBM Content Managers 8.2 f"ur AIX von Holger K"onig, IBM Deutschland GmbH, wiedergegeben werden. \\[2ex]
\subsubsection{Vorbereitung}
\begin{enumerate}
\item Installieren Sie das AIX Betriebssystem mit dem Release 4.3.3 ML 10, 5.1 ML 01 oder 5.2.
\item Sorgen Sie daf"ur, dass 'Cultural Conversion' und 'Language' auf English US eingestellt ist.
\item Aktivieren Sie die Netzanbindung inklusive DNS.
\item F"ur die Betriebssystem-Releases 4.3.3 und 5.1 muss Java 1.3.1 entsprechend der Anleitung installiert werden. Erweitern Sie in {\it /etc/environment }  die {\it PATH} Variable um {\it /usr/java131/jre/bin} und {\it /usr/java131/bin}. Wenn Sie auch das Paket {\bf Java131.ext.java3d } mit installieren wollen, m"ussen Sie vorher die Pakete \linebreak[4]
{\bf OpenGL.OpenGL\_X.adt} und {\bf OpenGL.OpenGL\_X.rte} installiert haben.
\item Installieren Sie den VAC Compiler Version 5.x oder 6.0 entsprechend der Anleitung und tragen Sie den Suchpfad unter {\it PATH} im File {\it /etc/environment } mit ein.
\item Aktivieren Sie das Lizenzsystem {\bf ifor} und tragen Sie sie Compilerlizenzen ein.
\end{enumerate}
%
\subsubsection{DB2}
\begin{enumerate}
\item Kopieren Sie das File {\it ese.sbcs.tar.Z} von der CD {\bf 'DB2 8.1 with FP1'} und entpacken Sie dieses.
\item {\tt ./db2setup}
\item W"ahlen Sie {\bf Install Products} $\rightarrow$ {\bf DB2 UDB Enterprise Server Edition}. Folgen Sie den Schritten:
\begin{itemize}
\item {\bf Netx}
\item {\bf Accept License}
\item Auswahl 'Custom' $\rightarrow$ {\bf Next}
\item Auswahl 'Install DB2 UDB Enterprise Server Edition on this computer' $\rightarrow$ {\bf Next}
\item Standartwerte lassn, 'Appliction Development Tools' zus"atzlich ausw"ahlen
\item Sprache 'Englisch' beibehalten $\rightarrow$ {\bf Next}
\item DAS User : Standartwert {\bf db2as} wenn m"oglich beibehalten, Password setzen $\rightarrow$ {\bf Next}
\item Erzeugen der DB2 Instanz durch Auswahl 'Create a DB2 instance - 32 bit' $\rightarrow$ {\bf Next}
\item Auswahl 'Single-partition instance' $\rightarrow$ {\bf Next}
\item Eintrag des DB2 Instance owner : Standartwert ({\bf db2inst1}) m"oglichst lassen, Password setzten $\rightarrow$ {\bf Next} \footnote{\label{fn1} Achten Sie darauf, keine exotischen Sonderzeichen zu nehmen, das macht im CM Probleme!}
\item Eintrag des DB2 Fenced users : Standartwert ({\bf db2fenc1}) m"oglichst lassen, Password setzten $\rightarrow$ {\bf Next} %\footnotemark[\ref{fn1}]
\item Instance TCPIP : Auswahl 'Configure' $\rightarrow$ Service Name : db2c\_dv2inst1 $\rightarrow$ Port 50000 $\rightarrow$ {\bf Next}
\item Instance properties $\rightarrow$ Authentication Type : Server $\rightarrow$ beibehalten 'Autostart the instance at system startup' $\rightarrow$ {\bf Next}
\item Prepare the DB2 tools catalog  beibehalten 'Do not prepare the DB2 tools catalog on this computer' $\rightarrow$ {\bf Next}
\item Administrator contact : Standart beibehalten $\rightarrow$ {\bf Next} \footnote{Warnung ignorieren}
\item Contact : Standart beibehalten ({\bf db2inst1}) $\rightarrow$ {\bf Next}
\item Summary $\rightarrow$ {\bf Finish}
\item Warten (dauert etwas)
\item Setup complete $\rightarrow$ {\bf Finish}
\end{itemize}
\item Test der Installation:\\
{\tt su - db2inst1} $\rightarrow$ {\tt db2stop} $\rightarrow$ {\tt db2start} \footnote{Es sollte keine Nachricht bez"uglich der Lizenz erscheinen.} $\rightarrow$ {\tt db2level} $\rightarrow$ {\tt exit}
\item Installieren Sie nun den FixPack 2 gemäß der Anleitung. Bezugsquelle für den Fix ist:\\
\url{http://www-3.ibm.com/cgi-bin/db2www/data/db2/udb/winos2unix/support/download.d2w/report}\\[2ex]
Die wichtigsten Schritte sind:
\begin{itemize}
\item Auspacken des FixPack's
\item {\tt ./installFixPak -a}
\item Aktualisieren von Exemplaren zur Verwendung der neuen Stufe von DB2
\item Restart der Datenbank
\item Neubinden der DB2 UDB Datenbanken
\end{itemize}
Eine vollständige Beschriebung befindet sich in der mitgelieferten Readme-Datei.
\end{enumerate}
%
\subsubsection{NSE}
\begin{enumerate}
\item Legen Sie die CD {\bf 'DB2 Net Search Extender Version 8.1'} ein und mounten Sie diese.
\item {\tt su - db2inst1} $\rightarrow$ {\tt db2stop} $\rightarrow$ {\tt exit}
\item {\tt slibclean}
\item {\tt cd /cdrom/aix} $\rightarrow$ {\tt ./nsesetup.sh}
\begin{itemize}
\item Auswahl 1 f"ur Englisch $\rightarrow$ {\bf Enter}
\item Auswahl 1 f"ur 'Accept the license areement'
\end{itemize}
\item {\tt cd /usr/opt/db2\_08\_01/instance}
\item {\tt ./db2iupdt -u db2fenc1 db2inst1}
\item Test der Installation:\\
{\tt su - db2inst1} $\rightarrow$ {\tt db2start} $\rightarrow$ {\tt db2text start} $\rightarrow$ {\tt db2licm -l}\footnote{Pr"uft Ihren Lizenzeintrag} $\rightarrow$ {\tt exit}
\item Installieren Sie nun den FixPack 2 gemäß der Anleitung. Dieses Update ist sehr einfach zu bewerkstelligen.\\[2ex]
Die wichtigsten Schritte sind:
\begin{itemize}
\item  Auspacken des FixPack's
\item {\tt ./nsesetup.sh}
\item {\tt cd /usr/opt/db2\_08\_01/instance ; ./db2iupdt db2inst1}
\end{itemize}
\end{enumerate}
%
\subsubsection{WebSphere 5}
%
{\bf Installation WebSphere 5}
\begin{enumerate}
\item Legen Sie die CD {\bf 'WebSphere Application Server 5.0 for AIX'} ein und mounten Sie diese.
\item {\tt cd /cdrom/aix} $\rightarrow$ {\tt ./install}
\begin{itemize}
\item Auswahl {\bf 'English'}
\item Auswahl {\bf Next}
\item Auswahl 'Accept the license areement'
\item Auswahl {\bf Next}\footnote{Die Warnung "uber fehlende Voraussetzunge kann ignoriert werden.}
\item Auswahl {\bf 'Costum'} $\rightarrow$ {\bf Next}
\item Schauen Sie die Optionsliste durch, wir empfehlen {\bf 'Embedded Messaging'} und {\bf 'Tivoli Performance Viewer'} aus der Auswahl zu entfernen.
\item Auswahl der Installationsverzeichnisse {\it /usr/WebSphere/AppServer} und \linebreak[4]
{\it /usr/IBMHttpServer}. Behalten Sie die Vorgaben bei!
\item Node name $\rightarrow$ Nehmen Sie Ihren Hostnamen.
\item Hostname $\rightarrow$ Nehmen Sie Ihren voll qualifizierten Hostnamen.
\item Zusammenfassung $\rightarrow$ {\bf Next}
\item Warten Sie kurz.
\item Entfernen Sie die Auswahl {\bf 'Register this product now'} $\rightarrow$ {\bf Next}
\item {\bf Finish}
\item Nach einigen Sekunden "offnet sich das {\bf 'WebSphere First Steps'} Fenster, bitte schiessen sie dieses.
\end{itemize}
\end{enumerate}
%
{\bf Installation WebSphere Fix pack 5.0.1}
\begin{enumerate}
\item Holen Sie sich das Fixpack von \url{ftp.software.ibm.com}.
\item {\tt cd <fixpack\_dir>}
\item {\tt ./usr/WebSphere/AppServer/bin/setupCmdLine.sh}
\item {\tt ./updateWizard.sh}
\begin{itemize}
\item Update Installation Wizard $\rightarrow$ {\tt Next}
\item Auswahl {\bf 'IBM WebSphere Application Server 5.0.0'} $\rightarrow$ {\tt Next}
\item Auswahl {\bf 'Install Fix packs'} $\rightarrow$ {\tt Next}
\item Fixpack Verzeichnis beibehalten $\rightarrow$ {\tt Next}
\item Auswahl {\bf 'was50\/fp1\_aix'} $\rightarrow$ {\tt Next}
\item Auswahl {\bf 'Update the IBM HTTP Server'} $\rightarrow$ {\tt Next}
\item Zusammenfassung $\rightarrow$ {\tt Next}
\item Wenn Installation erfolgreich war $\rightarrow$ {\tt Finish}
\end{itemize}
\end{enumerate}
%
{\bf Test der WebSphere Installation}
\begin{enumerate}
\item Starten Sie den WebSphere Administrations-Server
\begin{itemize}
\item {\tt cd /usr/WebSphere/AppServer/bin}
\item {\tt ./startServer.sh server1}\footnote{Warten Sie auf die Nachricht {\bf 'Server 1 open for e-business'}}
\end{itemize}
\item Im Browser {\tt http://<hostname>:9090/admin}
\begin{itemize}
\item Eingabe {\bf icmadmin} als UserID $\rightarrow$ {\tt OK}
\item {\bf 'Environment'}
\item Auswahl {\bf 'Virtual hosts`}
\item Auswahl {\bf 'default\_hosts`}
\item Auswahl {\bf 'Host Aliases'}
\item Auswahl {\bf 'New'} $\rightarrow$ Hostname : * $\rightarrow$ Port : 443 $\rightarrow$ {\tt Apply}
\item {\tt Save}\footnote{Den Text finden Sie im Bild oben.}
\item {\tt Save}
\item Im linken Baum {\bf 'Update Web Server Plugin'} ausw"ahlen
\item {\tt OK}
\item {\tt Logout}
\end{itemize}
\item Starten Sie den Web-Server
\begin{itemize}
\item {\tt cd /usr/IBMHttpServer/bin}
\item {\tt ./apachectl start}
\end{itemize}
\item Im Browser {\tt http://<hostname>/snoop}
\end{enumerate}
%
{\bf Configure the SSL}
\begin{enumerate}
\item \mcrcommand{/usr/IBMHttpServer/bin/ikeyman}
\begin{itemize}
\item Select the key database {\bf 'New'} 
\item Select {\bf CMS key database file} $\rightarrow$ File Name = \mcrfile{key.kdb} $\rightarrow$ Location = \mcrfile{/usr/IBMHttpServer/ssl}
\item Select {\bf 'OK'}
\item \mcrcommand{<password>} $\rightarrow$ \mcrcommand{<password>}
\item 'Stach the password to a file?' $\rightarrow$ {\bf 'OK'}
\item Select {\bf 'OK'}
\item Select {\bf 'Create'}
\item Select {\bf 'New self signed certificate'} $\rightarrow$ Label = \mcrfile{icmrm} $\rightarrow$ Version = X509V3 $\rightarrow$ Key Size = 1024 $\rightarrow$ Name = \mcrcommand{<full qualified host name>} $\rightarrow$ Organization = \mcrcommand{<your org>} $\rightarrow$ Country = \mcrcommand{DE} $\rightarrow$ Valid Period = \mcrcommand{1000}
\item Select {\bf 'OK'}
\item Select {\bf 'Key database'}
\item Select {\bf 'Exit'}
\end{itemize}
\end{enumerate}
If some environments there have been problems running ikeyman because there might appear a message: You need to register IBMJCE provider. In case you get this message - {\bf and ony then} - here is a list of ways to fix it:
\begin{itemize}
\item Change to the JDK provided by WebSphere (cahnge PATH variable) {\bf OR}
\item Remove the file \mcrfile{gskikm.jar} from the directory \mcrfile{/usr/java131/jre/lib/ext} (move to a different place or rename)
\end{itemize}
%
{\bf Activate the HTTPD for SSL}
\begin{enumerate}
\item \mcrcommand{cd /usr/IBMHttpServer}
\item \mcrcommand{cd bin/setupadm}
\begin{itemize}
\item User ID = {\bf httpadm} $\rightarrow$ Group Name = {\bf httpadm} $\rightarrow$ \mcrcommand{<enter>} $\rightarrow$ {\bf 1} $\rightarrow$ {\bf 1} $\rightarrow$ {\bf 2}
\end{itemize}
\item \mcrcommand{/bin/htpasswd -c conf/admin.passwd admin}
\begin{itemize}
\item \mcrcommand{<password>} $\rightarrow$ \mcrcommand{<password>}
\end{itemize}
\item \mcrcommand{/bin/adminctl start}
\end{enumerate}
In a web-browser open the URL {\bf http://<yourhost>:8008/} and login as user {\bf admin} with \mcrcommand{<password>}.
In the web browser please do the following configurations.
\begin{enumerate}
\item Set up the security module
\begin{itemize}
\item In the left navigation panel select {\bf Basic Select} $\rightarrow$ {\bf Module Sequence}
\item In the Module Sequence panel $\rightarrow$ Scope = {\bf GLOBAL} $\rightarrow$ 
\item {\bf Add} $\rightarrow$ select a module to add $\rightarrow$ in the drop-down list select {\bf ibm\_ssl} $\rightarrow$ \mcrfile{modules/IBMModuleSSL128.dll} wird ersetzt $\rightarrow$ {\bf 'Apply'} $\rightarrow$ {\bf 'Close'} $\rightarrow$ {\bf 'Submit'}
\end{itemize}
\item Set up the secure host IP and aditional prot for the secure server
\begin{itemize}
\item In the left navigation panel select {\bf Basic Select} $\rightarrow$ {\bf Advanced Properties}
\item In the Module Sequence window panel $\rightarrow$ Scope = {\bf GLOBAL} $\rightarrow$ 
\item {\bf Add} (for the Specify aditional ports and IP address filed) $\rightarrow$ IP addresse = {\bf empty} $\rightarrow$ Port = {\bf 80 $\rightarrow$ {\bf 'Apply'}
\item {\bf Add} (for the Specify additional prots and IP adress field) $\rightarrow$ IP addresse = {\bf empty} $\rightarrow$ Port = {\bf 443 $\rightarrow$ {\bf 'Apply'} $\rightarrow$ {\bf 'Close'} $\rightarrow$ {\bf 'Submit'}
\end{itemize}
\item Set up the virtual host sructure for the secure server
\begin{itemize}
\item In the left navigation panel select {\bf Configuration Structure} $\rightarrow$ {\bf Create Scope}
\item In the Create Scope panel $\rightarrow$ in the drop-down list under Select a valid scope select Virtual Host 'Enter the virtual host IP address or full qualified domain name' = /mcrcommand{<your.full.qualified.hostname>} $\rightarrow$ Virtual Host Port = {\bf 443} $\rightarrow$ Server name = {\bf empty} $\rightarrow$ Alternate name = {\bf empty} $\rightarrow$ {\bf 'Submit'}
\end{itemize}
\item Set up the virtual host document root for the secure server
\begin{itemize}
\item In the left navigation panel select {\bf Basic Select} $\rightarrow$ {\bf Core Settings}
\item In the Core Settings panel $\rightarrow$ select {\bf Scope} $\rightarrow$ select the \mcrcommand{<Virtual host that you created for SSL>} $\rightarrow$ Server name = {\bf empty} $\rightarrow$ Document root directory = \mcrfile{/usr/IBMHttpServer/htdocs/en\_US} $\rightarrow$ {\bf 'Submit'}
\end{itemize}
\item Set the file and SSL timeout values for the secure server
\begin{itemize}
\item In the left navigation panel select {\bf Security} $\rightarrow$ {\bf Server Security}
\item In the Security panel $\rightarrow$ Ensure scope \mcrcommand{<Virtual host that you created for SSL>} $\rightarrow$ {\bf 'Enable SSL'} $\rightarrow$ select {\bf 'Yes'} $\rightarrow$ Key file name = \mcrfile{/usr/IBMHttpServer/ssl/key.kdb} $\rightarrow$ Timeout SSL 2 = {\bf 100} $\rightarrow$ Timeout SSL 3 = {\bf 1000} $\rightarrow$ {\bf 'Submit'}
\end{itemize}
\item Enable SSL and select the mode of the client authentication
\begin{itemize}
\item In the left navigation panel select {\bf Security} $\rightarrow$ {\bf Host Authorization}
\item in the Authorization panel $\rightarrow$ Ensure scope \mcrcommand{<Virtual host that you created for SSL>} $\rightarrow$ {\bf 'Enable SSL'} $\rightarrow$ select {\bf 'Yes'} $\rightarrow$ select {\bf 'Mode of client authorization to be used'} $\rightarrow$ select {\bf 'None'} $\rightarrow$ 'Server cretificate to be used for this virtual hst field' = {\bf icmrm} $\rightarrow$ Add (for the chipher specification that can be used in a secure transaction panel) $\rightarrow$ select {\bf 39} $\rightarrow$ {\bf 'Apply'} select {\bf 3A} $\rightarrow$ {\bf 'Apply'} select {\bf 62} $\rightarrow$ {\bf 'Apply'} select {\bf 64} $\rightarrow$ {\bf 'Apply'} $\rightarrow$ {\bf 'Submit'}
\end{itemize}
\end{enumerate}
Restart the HTTP Server (and leave it open) by clicking on the black circle logo that is located next to the help button in the upper-right corner of the right panel. \\[2ex]
Open \mcrcommand{https://<your hostname>/snoop} in the web browser.
%
%
\subsection{Der IBM Content Manager unter Solaris}

%
%
\subsection{Der IBM Content Manager unter Windows}

%
%

