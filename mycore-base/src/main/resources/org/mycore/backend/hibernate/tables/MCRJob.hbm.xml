<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="org.mycore.services.queuedjob">
  <typedef name="MCRJobAction" class="org.mycore.services.queuedjob.MCRJobActionUserType" />
  <typedef name="MCRJobStatus" class="org.mycore.backend.hibernate.MCRGenericEnumUserType">
    <param name="enumClass">org.mycore.services.queuedjob.MCRJobStatus</param>
  </typedef>

  <class name="MCRJob">
    <id name="id">
      <generator class="identity" />
    </id>

    <property name="action" type="MCRJobAction" />
    <property name="status" type="MCRJobStatus" />
    <property name="added" type="java.util.Date" />
    <property name="start" type="java.util.Date" />
    <property name="finished" type="java.util.Date" />
    <map name="parameters" table="MCRJobParameter" cascade="all" lazy="false">
      <key column="jobID" />
      <index column="paramKey" type="string" length="128" />
      <element column="paramValue" type="string" length="255" />
    </map>
  </class>
</hibernate-mapping>

