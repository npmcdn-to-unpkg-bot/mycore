<?xml version="1.0" encoding="UTF-8"?>
<import>
    <config>
        <projectName>sample</projectName>
        <datamodelPath>{MCR.basedir}/test/resources/</datamodelPath>
        <saveToPath>save/mapping/</saveToPath>
        <createClassificationMapping>true</createClassificationMapping>
        <derivates use="true">
          <createInImportDir>true</createInImportDir>
          <importToMycore>true</importToMycore>
          <importFilesToMycore>true</importFilesToMycore>
        </derivates>
    </config>

    <mapping>
        <resolvers>
           <!--  <resolver prefix="volumeId" class="org.mycore.dataimport.pica.resolver.uri.MCRImportURIVolumeIdResolver" />-->
        </resolvers>

        <mcrobjects>
          <mcrobject name="record" datamodel="sample-dm2.xml">
          	<!-- test type id -->
            <map fields="id" type="id"></map>

            <!-- test type multidata -->
            <map fields="text" type="multidata" to="metaText">
              <text value="{text}" />
            </map>

            <!-- test simple date -->
            <map fields="date" to="date" />
            
            <!-- test attributes -->
            <map fields="link_href, link_label" to="link">
              <attributes>
                <attribute name="href" namespace="xlink" value="{link_href}" />
                <attribute name="label" namespace="xlink" value="{link_label}" />
              </attributes>
            </map>
            
            <!-- test metaXML -->
            <map fields="last, first" to="metaXML">
	          <children>
	  		    <child tag="lastName">
                  <text value="{last}" />
                </child>
	  			<child tag="firstName">
                  <text value="{first}" />
                </child>
              </children>
            </map>

            <!-- test classification -->
            <map fields="categ" to="class">
			  <attributes>
			    <attribute name="classid" value="Sample_00001" />
			    <attribute name="categid" value="{categ}" />
			  </attributes>
            </map>

            <!-- test condition -->
            <map fields="field,condition" to="metaText">
              <conditions>
                <condition format="xml">
                  <condition value1="{condition}" operator="=" value2="5"/>
                </condition>
                <condition name="conditionWithName" format="xml">
                  <condition value1="{condition}" operator=">" value2="3" />
                </condition>
              </conditions>
              <text value="{field}" condition="conditionWithName"/>
            </map>

            <!-- test derivate -->
          	<map fields="derivId" derivateId="{derivId}" type="derivate" />
          </mcrobject>
        </mcrobjects>

   </mapping>
</import>