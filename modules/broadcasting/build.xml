<?xml version="1.0" encoding="ISO-8859-1"?>

<!-- ============================================== -->
<!--  MyCoRe - Module-Broadcasting build file for use with ANT        -->
<!--  												-->
<!-- Module-Broadcasting 1.0, 05-2006  					-->
<!-- +++++++++++++++++++++++++++++++++++++			-->
<!--  												-->
<!-- Andreas Trappe 	- idea, concept, dev.		-->
<!--												-->
<!-- ============================================== -->


<project name="MyCoReModule - broadcasting" default="usage" basedir="../..">

  <property name="build.sysclasspath" value="last" />

<!-- =================================================================== -->
<!-- The info target                                                     -->
<!-- =================================================================== -->

  <target name="info">
    <echo level="info">
           Ant version: ${ant.version}
      Java JDK version: ${java.version}
      Operating system: ${os.name}, version: ${os.version}, architecture: ${os.arch}
    </echo>
  </target>

<!-- =================================================================== -->
<!-- Help on usage                                                       -->
<!-- =================================================================== -->

  <target name="usage">
    <echo level="info">
      Usage:
        ant [target]

      Available targets are:
		info                 --> Shows Java/Ant/Operating System version
		install              --> install Module-broadcasting
    </echo>
  </target>

<!-- =================================================================== -->
<!-- Initalization of directories and CLASSPATH, LIBPATH                 -->
<!-- =================================================================== -->

  <target name="init" depends="system.path.1, system.path.2">
    <mkdir dir="${basedir}/classes" />
    <path id="mycore.classpath">
      <fileset dir="${basedir}/lib" includes="*.jar"/>
      <path refid="system.classpath"  />
    </path>
  </target>

  <target name="system.path.1" if="MCR.System.SharedJarsDir">
    <path id="system.classpath">
      <fileset dir="${MCR.System.SharedJarsDir}" includes="_dummy_ ${MCR.System.Jars}"        />
    </path>
  </target>

  <target name="system.path.2" unless="MCR.System.SharedJarsDir">
    <path id="system.classpath" />
  </target>

<!-- =================================================================== -->
<!-- Compiles all application classes                                    -->
<!-- =================================================================== -->

  <target name="javac" depends="init">
    <echo level="info">Compiling ${packages} </echo>
    <javac srcdir="${basedir}/modules/broadcasting/sources"
           destdir="${basedir}/classes"
           includes="${packages}"
           classpathref="mycore.classpath"
           debug="${debug}"
           optimize="${optimize}"
	       target="${javatarget}"
	       source="${sourcerelease}"
	       encoding="${sourceencoding}"
           deprecation="${deprecation}">
    </javac>
    <echo>---------------------------------------------------------</echo>
  </target>

  <target name="compile" >
    <echo level="info">Compiling module broadcasting soures</echo>
    <antcall target="javac">
      <param name="packages" value="org/mycore/services/broadcasting/**"/>
    </antcall>
  </target>

	<!-- =================================================================== -->



</project>
