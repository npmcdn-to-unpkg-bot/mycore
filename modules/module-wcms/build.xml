<?xml version="1.0" encoding="ISO-8859-1"?>

<!-- ============================================== -->
<!--      MyCoRe-WCMS build file for use with ANT        -->
<!-- $Revision: 1.4 $ $Date: 2004-12-02 13:33:28 $ -->
<!-- ============================================== -->

<project name="MyCoReModule - WCMS" default="usage" basedir=".">

	<!-- ============================================== -->

	<property name="build.sysclasspath" value="last" />

	<!-- ============================================== -->

	<target name="version">
		<echo>
           Ant version: ${ant.version}
      Java JDK version: ${java.version} 
      Operating system: ${os.name}, version: ${os.version}, architecture: ${os.arch}
    </echo>
	</target>

	<!-- ============================================== -->

	<target name="usage">
		<echo>
      Use the ant tool to plug in MyCoReWCMS-Module:
      Usage: ant [target] [target] [target] ...

      Available targets for MyCoReWCMS are:
        compile                         compiles the Java Sources
        docportal			plug MyCoReWCMS-Module into docportal application
        cleanDocportal		remove MyCoReWCMS-Module out of docportal application
			
	        standalone		install MyCoReWCMS-Module as standalone application
	        cleanStandalone		remove MyCoReWCMS-Module 
		</echo>
	</target>

	<!-- ============================================== -->
	<!-- ============================================== -->
	<target name="docportal">
		<echo>
           Execute installation procedure to plug Module-WCMS into DocPortal
    </echo>

		<subant target="docportal" inheritall="true" inheritrefs="true">
			<fileset dir="." includes="appsSupport/DocPortal/build.xml" />
		</subant>

	</target>

	<!-- ============================================== -->
	
	<target name="cleanDocportal">
		<echo>
           Execute installation procedure to remove Module-WCMS out of DocPortal
	    </echo>

		<subant target="clean" inheritall="true" inheritrefs="true">
			<fileset dir="." includes="appsSupport/DocPortal/build.xml" />
		</subant>

	</target>	
	
	<!-- ============================================== -->	
	<!-- ============================================== -->	
	

	<!-- ============================================== -->
	<!-- ============================================== -->
	<target name="standalone">
		<echo>
           Execute installation procedure to install Module-WCMS as standalone application
    </echo>

		<subant target="standalone" inheritall="true" inheritrefs="true">
			<fileset dir="." includes="appsSupport/standalone/build.xml" />
		</subant>

	</target>

	<!-- ============================================== -->
	
	<target name="cleanStandalone">
		<echo>
           Execute installation procedure to remove Module-WCMS...
	    </echo>

		<subant target="clean" inheritall="true" inheritrefs="true">
			<fileset dir="." includes="appsSupport/standalone/build.xml" />
		</subant>

	</target>	
	
  <!-- =================================================================== -->
  <!-- Compiles the sources from directory sources to directory classes    -->
  <!-- =================================================================== -->

  <target name="init">
    <mkdir dir="${basedir}/classes" />
    <path id="mycore.classpath">
      <fileset dir="${basedir}/lib" includes="*.jar"/>
      <fileset dir="${basedir}/modules/module-wcms/aif/lib" includes="*.jar"/>
    </path>
  </target>

  <target name="javac" depends="init" >
    <echo>Compiling ${packages}</echo>
    <javac srcdir="${basedir}/modules/module-wcms/aif/src"
           destdir="${basedir}/classes"
           includes="${packages}"
           classpathref="mycore.classpath"
           debug="${debug}"
           optimize="${optimize}"
           target="${javatarget}"
           encoding="${sourceencoding}"
           deprecation="${deprecation}">
    </javac>
  </target>

  <target name="compile">
   <echo>Compiling WCMS classes...</echo>
   <antcall target="javac">
     <param name="packages" value="wcms/util/**"/>
   </antcall>
   <antcall target="javac">
     <param name="packages" value="wcms/**"/>
   </antcall>
  </target>

  <!-- =================================================================== -->

</project>


