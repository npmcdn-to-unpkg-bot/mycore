<?xml version="1.0" encoding="ISO-8859-1"?>

<!-- ============================================== -->
<!--      MyCoRe-WCMS build file for use with ANT        -->
<!-- $Revision: 1.11 $ $Date: 2007-04-26 10:14:56 $ -->
<!-- ============================================== -->

<project name="MyCoReModule - WCMS" default="usage" basedir=".">

	<!-- ============================================== -->

	<property name="build.sysclasspath" value="last" />

	<!-- ============================================== -->

	<target name="version">
		<echo level="info">
           Ant version: ${ant.version}
      Java JDK version: ${java.version} 
      Operating system: ${os.name}, version: ${os.version}, architecture: ${os.arch}
    </echo>
	</target>

	<!-- ============================================== -->

	<target name="usage">
		<echo level="info">
      Use the ant tool to plug in MyCoReWCMS-Module:
      Usage: ant [target] [target] [target] ...

      Available targets for MyCoReWCMS are:
        compile             compiles the Java Sources
        standalone	        install MyCoReWCMS-Module as standalone application
        cleanStandalone	    remove MyCoReWCMS-Module 
		</echo>
	</target>
	
  <!-- =================================================================== -->
  <!-- Compiles the sources from directory sources to directory classes    -->
  <!-- =================================================================== -->

  <target name="init">
    <mkdir dir="${basedir}/classes" />
    <path id="mycore.classpath">
      <fileset dir="${basedir}/lib" includes="*.jar"/>
      <fileset dir="${basedir}/modules/wcms/aif/lib" includes="*.jar"/>
    </path>
  </target>

  <target name="javac" depends="init" >
    <echo level="info">Compiling ${packages}</echo>
    <javac srcdir="${basedir}/modules/wcms/aif/src"
           destdir="${basedir}/classes"
           includes="${packages}"
           classpathref="mycore.classpath"
           debug="${debug}"
           optimize="${optimize}"
           target="${javatarget}"
           source="${sourcerelease}"
           encoding="${sourceencoding}"
           deprecation="${deprecation}">
    </javac>
  </target>

  <target name="compile">
   <echo level="info">Compiling WCMS classes...</echo>
   <antcall target="javac">
    <param name="packages" value="org/mycore/frontend/wcms/**"/>
   </antcall>
  </target>

  <!-- =================================================================== -->

</project>
